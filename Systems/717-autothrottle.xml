<?xml version="1.0" encoding="UTF-8" ?>

<!-- Boeing 717 Autothottle Configuration -->

<PropertyList>


	<!-- PREDICTION FILTERS -->
	<predict-simple>
		<input>/autopilot/internal/nav1-track-error-deg</input>
		<output>/autopilot/internal/nav1-track-error-lookahead-deg</output>
		<seconds>8</seconds>
		<filter-gain>0</filter-gain>
	</predict-simple>

	<!-- AUTOTHROTTLE -->
	<!-- IAS hold -->
	<logic>
		<name>IAS hold logic</name>
		<input>
			<and>
				<property>/autopilot/settings/autothrottle</property>
				<equals>
					<property>/autopilot/settings/speed-mode</property>
					<value>knots</value>
				</equals>
				<not>
					<property>/autopilot/settings/speed</property>
				</not>
			</and>
		</input>
		<output>/autopilot/internal/speed-hold-kt</output>
	</logic>
	<pid-controller>
		<name>IAS hold</name>
		<debug type="bool">false</debug>
		<enable>
			<prop>/autopilot/internal/speed-hold-kt</prop>
			<value type="bool">true</value>
		</enable>
		<input>
			<prop>/autopilot/internal/lookahead-5-sec-airspeed-kt</prop>
		</input>
		<reference>
			<prop>/autopilot/settings/target-speed-kt</prop>
		</reference>
		<output>
			<prop>/controls/engines/engine[0]/throttle</prop>
			<prop>/controls/engines/engine[1]/throttle</prop>
		</output>
		<config>
			<Kp>0.05</Kp>
			<beta>1</beta>
			<alpha>0.1</alpha>
			<gamma>0</gamma>
			<Ti>10</Ti>
			<Td>0.00001</Td>
			<u_min>0</u_min>
			<u_max>1</u_max>
		</config>
	</pid-controller>

	<!-- Mach hold -->
	<logic>
		<name>Mach hold logic</name>
		<input>
			<and>
				<property>/autopilot/settings/autothrottle</property>
				<equals>
					<property>/autopilot/settings/speed-mode</property>
					<value>mach</value>
				</equals>
				<not>
					<property>/autopilot/settings/speed</property>
				</not>
			</and>
		</input>
		<output>/autopilot/internal/speed-hold-mach</output>
	</logic>
	<pid-controller>
		<name>Mach hold</name>
		<debug type="bool">false</debug>
		<enable>
			<prop>/autopilot/internal/speed-hold-mach</prop>
			<value type="bool">true</value>
		</enable>
		<input>
			<prop>/velocities/mach</prop>
		</input>
		<reference>
			<prop>/autopilot/settings/target-speed-mach</prop>
		</reference>
		<output>
			<prop>/controls/engines/engine[0]/throttle</prop>
			<prop>/controls/engines/engine[1]/throttle</prop>
		</output>
		<config>
			<Kp>20</Kp>
			<beta>1</beta>
			<alpha>0.1</alpha>
			<gamma>0</gamma>
			<Ti>10</Ti>
			<Td>0.00001</Td>
			<u_min>0</u_min>
			<u_max>1</u_max>
		</config>
	</pid-controller>

</PropertyList>
